// ========== ENUMS ==========
Enum Role {
  ADMIN
  CLIENT
}

Enum ReservationStatus {
  PENDING
  CONFIRMED
  CANCELLED
  COMPLETED
}

Enum OrderStatus {
  PENDING
  DELIVERED
  CANCELLED
}

// ========== TABLES ==========
Table User {
  id         int [pk, increment]
  email      varchar [unique]
  password   varchar
  firstname  varchar
  lastname   varchar
  role       Role
  phone      varchar
  createdAt  datetime
  updatedAt  datetime
}

Table Prestation {
  id           int [pk, increment]
  title        varchar
  description  text
  duration     int
  price        float
  createdAt    datetime
  updatedAt    datetime
  categoryId   int
}

Table Product {
  id           int [pk, increment]
  name         varchar
  description  text
  price        float
  stock        int
  createdAt    datetime
  updatedAt    datetime
  categoryId   int
}

Table Category {
  id           int [pk, increment]
  name         varchar
  description  text
}

Table Reservation {
  id             int [pk, increment]
  startDate      datetime
  endDate        datetime
  status         ReservationStatus
  price          float
  createdAt      datetime
  userId         int
  prestationId   int
}

Table Order {
  id          int [pk, increment]
  createdAt   datetime
  status      OrderStatus
  totalPrice  float
  userId      int
}

Table OrderItem {
  id         int [pk, increment]
  quantity   int
  price      float
  createdAt  datetime
  orderId    int
  productId  int
}

Table Review {
  id         int [pk, increment]
  content    text
  rating     int
  visible    boolean
  createdAt  datetime
  userId     int
}

Table RecurringSlot {
  id         int [pk, increment]
  dayOfWeek  int
  startTime  varchar
  endTime    varchar
}

Table RecurringSlotException {
  id    int [pk, increment]
  date  datetime
}

Table OneTimeSlot {
  id        int [pk, increment]
  date      datetime
  startTime varchar
  endTime   varchar
}

// ========== RELATIONS ==========

// Reservation -> User
Ref: Reservation.userId > User.id

// Reservation -> Prestation
Ref: Reservation.prestationId > Prestation.id

// Prestation -> Category
Ref: Prestation.categoryId > Category.id

// Product -> Category
Ref: Product.categoryId > Category.id

// Order -> User
Ref: Order.userId > User.id

// OrderItem -> Order
Ref: OrderItem.orderId > Order.id

// OrderItem -> Product
Ref: OrderItem.productId > Product.id

// Review -> User
Ref: Review.userId > User.id
